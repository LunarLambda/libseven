@
@ This Source Code Form is subject to the terms of the Mozilla Public
@ License, v. 2.0. If a copy of the MPL was not distributed with this
@ file, You can obtain one at https://mozilla.org/MPL/2.0/.
@

.ifndef  _LIBSEVEN_ASM_HW_DMA_S
.equiv   _LIBSEVEN_ASM_HW_DMA_S, 1

.include "seven/asm/base.s"

REG      DMA0SRC, 0x040000B0
REG      DMA0DST, 0x040000B4
REG      DMA0LEN, 0x040000B8
REG      DMA0CNT, 0x040000BA

REG      DMA1SRC, 0x040000BC
REG      DMA1DST, 0x040000C0
REG      DMA1LEN, 0x040000C4
REG      DMA1CNT, 0x040000C6

REG      DMA2SRC, 0x040000C8
REG      DMA2DST, 0x040000CC
REG      DMA2LEN, 0x040000D0
REG      DMA2CNT, 0x040000D2

REG      DMA3SRC, 0x040000D4
REG      DMA3DST, 0x040000D8
REG      DMA3LEN, 0x040000DC
REG      DMA3CNT, 0x040000DE

CONST    BF_DMA_DST_OFFSET,   5
CONST    BF_DMA_DST_LENGTH,   2
CONST    BF_DMA_SRC_OFFSET,   7
CONST    BF_DMA_SRC_LENGTH,   2
CONST    BF_DMA_START_OFFSET, 12
CONST    BF_DMA_START_LENGTH, 2

BITFIELD DMA_DST INCREMENT, 0
BITFIELD DMA_DST DECREMENT, 1
BITFIELD DMA_DST FIXED,     2
BITFIELD DMA_DST REPEAT,    3

BITFIELD DMA_SRC INCREMENT, 0
BITFIELD DMA_SRC DECREMENT, 1
BITFIELD DMA_SRC FIXED,     2

BIT      DMA_REPEAT, 9

BIT      DMA_32BIT, 10
CONST    DMA_16BIT, !DMA_32BIT

BIT      DMA_CARTRIDGE_DRQ, 11

BITFIELD DMA_START NOW,     0
BITFIELD DMA_START HBLANK,  1
BITFIELD DMA_START VBLANK,  2
BITFIELD DMA_START SPECIAL, 3
CONST    DMA_START_SOUND,   DMA_START_SPECIAL
CONST    DMA_START_CAPTURE, DMA_START_SPECIAL

BIT      DMA_IRQ_ENABLE, 14
BIT      DMA_ENABLE,     15

EXTFN    dmaEnable
EXTFN    dmaDisable
EXTFN    dmaCopy16
EXTFN    dmaCopy32
EXTFN    dmaSoundFifoATransfer
EXTFN    dmaSoundFifoBTransfer
EXTFN    dmaHBlankTransfer
EXTFN    dmaAtomicSet

.endif @ !_LIBSEVEN_ASM_HW_DMA_S

@ vim: ft=armv4 et sta sw=4 sts=8
